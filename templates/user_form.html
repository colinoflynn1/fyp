{% extends "base.html" %}
{% block content %}
<h1>{{ 'Add User' if mode == 'create' else ('Edit ' + user.full_name) }}</h1>
<form method="post">
  <div>
    <label>Email</label>
    <input type="email" name="email" value="{{ user.email if user else '' }}" required>
  </div>
  <div>
    <label>Full Name</label>
    <input type="text" name="full_name" value="{{ user.full_name if user else '' }}" required>
  </div>
  <div>
    <label>Role</label>
    <select name="role">
      <option value="user"  {% if (not user) or user.role=='user' %}selected{% endif %}>User</option>
      <option value="admin" {% if user and user.role=='admin' %}selected{% endif %}>Admin</option>
    </select>
  </div>
  <button type="submit">{{ 'Create' if mode=='create' else 'Save Changes' }}</button>
  <a href="{{ url_for('users') }}">Cancel</a>
</form>
{% endblock %}
